<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Events: Task 1</title>
    <style>
      form {
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 500px;
      }
    </style>
    <link rel="stylesheet" href="../styles.css" />
  </head>

  <body>
    <h1>Send Email</h1>
    <form id="emailForm" novalidate>
      <label for="to">Email:</label>
      <input type="email" id="to" name="to" required />

      <label for="subject">Subject:</label>
      <input type="text" id="subject" name="subject" required />

      <label for="message">Message:</label>
      <textarea id="message" name="message" rows="5" required></textarea>

      <button type="submit">Send</button>

      <div id="responseMessage" class="message"></div>
    </form>
    <script>
      const form = document.getElementById("emailForm");
      const responseMessage = document.getElementById("responseMessage");

      form.addEventListener("submit", function (submit) {
        const to = document.getElementById("to").value;
        const subject = document.getElementById("subject").value;
        const message = document.getElementById("message").value;

        fetch("https://bdaley.npkn.net/dmd-formmail/", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            key1: "value1",
            key2: "value2",
          }),
        })
          .then((response) => response.json())
          .then((data) => console.log(data))
          .catch((error) => console.error("Error:", error));
      });
    </script>
  </body>
</html>
